import streamlit as st
import random
from datetime import date

# ë„íŒŒë¯¼ ìœ ë°œ ì‘ì—… ëª©ë¡ (ì‘ì—…ëª…, í™•ë¥ , í¬ê·€ë„)
tasks = [
    ("50ì ì“°ê¸°", 0.25, "ì¼ë°˜"),
    ("100ì ì“°ê¸°", 0.20, "ì¼ë°˜"),
    ("150ì ì“°ê¸°", 0.15, "ê³ ê¸‰"),
    ("200ì ì“°ê¸°", 0.12, "ê³ ê¸‰"),
    ("250ì ì“°ê¸°", 0.08, "í¬ê·€"),
    ("300ì ì“°ê¸°", 0.06, "í¬ê·€"),
    ("10ë¶„ íœ´ì‹", 0.09, "í¬ê·€"),
    ("30ë¶„ íœ´ì‹", 0.04, "ì˜ì›…"),
    ("500ì ì“°ê¸°", 0.01, "ì „ì„¤")
]

# í¬ê·€ë„ë³„ ì»¬ëŸ¬
rarity_colors = {
    "ì¼ë°˜": "gray",
    "ê³ ê¸‰": "green",
    "í¬ê·€": "blue",
    "ì˜ì›…": "violet",
    "ì „ì„¤": "red"
}

# í•­ëª©ë³„ ê°ì •ì„  ë©˜íŠ¸
reactions = {
    "50ì ì“°ê¸°": "ì§§ê³  êµµê²Œ, ë°”ë¡œ ì¨ë³´ì!",
    "100ì ì“°ê¸°": "ì¢‹ì•„, ì† ì¢€ í’€ë¦¬ê² ëŠ”ë°?",
    "150ì ì“°ê¸°": "ì§‘ì¤‘ë ¥ ëª¨ë“œ ìŠ¬ìŠ¬ ì‹œë™ ê±¸ì.",
    "200ì ì“°ê¸°": "ì§€ê¸ˆë¶€í„°ëŠ” ëª°ì… êµ¬ê°„ì´ì•¼.",
    "250ì ì“°ê¸°": "ì´ ì •ë„ë©´ ë„íŒŒë¯¼ íë¥¸ë‹¤.",
    "300ì ì“°ê¸°": "ì‘ê°€ë‹˜ í­ì£¼ ì‹œì‘í•˜ë‚˜ìš”?",
    "500ì ì“°ê¸°": "ì „ì„¤ ë“±ì¥! ì§„ì‹¬ ìŸì„ ì°¨ë¡€.",
    "10ë¶„ íœ´ì‹": "ì‚´ì§ ìˆ¨ ëŒë¦¬ê³  ì™€!",
    "30ë¶„ íœ´ì‹": "ì§„ì§œ ì•„ë¬´ê²ƒë„ í•˜ì§€ ë§ˆ. ì´ê²ƒë„ ì¼ì„."
}

# ê·€ì—¬ìš´ ëœë¤ ì´ëª¨ì§€
emojis = ["ğŸŒ±", "ğŸŒŸ", "ğŸ€", "ğŸŒ€", "ğŸ’«", "ğŸˆ", "ğŸ§¸", "ğŸ“š", "â˜•"]

# í˜ì´ì§€ ì œëª©
today = date.today().strftime("%Y-%m-%d")
st.set_page_config(page_title="ì‘ê°€ë‹˜ì˜ ë„íŒŒë¯¼ ë½‘ê¸°", page_icon="ğŸŒ€")
st.title(f"ğŸŒ€ {today}ì˜ ì‘ì—… ë½‘ê¸°")
st.write("ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì˜¤ëŠ˜ì˜ ìš´ëª… ê°™ì€ í•  ì¼ì´ ë„ì°©í•©ë‹ˆë‹¤.")

# ë½‘ê¸° ë²„íŠ¼
if st.button("âœ¨ í•  ì¼ ë½‘ê¸° âœ¨"):
    items, weights, rarities = zip(*tasks)
    chosen = random.choices(list(zip(items, rarities)), weights=weights, k=1)[0]
    task, rarity = chosen
    color = rarity_colors.get(rarity, "gray")
    emoji = random.choice(emojis)

    st.success(f"{emoji} ì˜¤ëŠ˜ì˜ í•  ì¼: {task}")
    st.badge(rarity, color=color)  # âœ… ì´ê±° ë“œë””ì–´ ë„£ì—ˆë‹¤
    st.caption(reactions.get(task, "ì˜¤ëŠ˜ë„ í˜ë‚´ì!"))

# í•˜ë‹¨ ë¬¸êµ¬
st.write("---")
st.write("ì˜¤ëŠ˜ í•˜ë£¨ë„ ì²œì²œíˆ, ë‹¨ë‹¨í•˜ê²Œ.")
